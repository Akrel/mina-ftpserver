<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2002-2004 The Apache Software Foundation or its licensors,
  as applicable.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document>
    <header> 
        <title>FTP Server Logging</title> 
        <authors>
            <person id="RB" name="Rana Bhattacharyya" email="rana_b@yahoo.com"/>
        </authors>
    </header> 
  <body> 
      <section id="logger">
          <title>FTP Server Logging</title>
          <p>This document explains how to customize the Apache FTP Server 
             logging mechanism.
          </p>
          <p>FTP server logger class implements <em>org.apache.ftpserver.ftplet.Logger</em>
             interface.
          </p>
      </section>
      
      <section>
          <title>File Logger</title>
          <p>This is a file based logger implementation. This is the default logger
             used in the FTP Server if no logger configuration is found.
          </p>
          <section>
              <title>Configuration Parameters</title>
              <table>
                  <tr>
                      <th>Configuration Parameter</th>
                      <th>Description</th>
                  </tr>
                  <tr>
                      <td>config.logger.class</td>
                      <td>org.apache.ftpserver.logger.FileLogger</td>
                  </tr>
                  <tr>
                      <td>config.logger.level</td>
                      <td>Log level
                          <ul>
                              <li>0 : Debug</li>
                              <li>1 : Information</li>
                              <li>2 : Warning</li>
                              <li>3 : Error</li>
                          </ul>
                          The default log level is 1 (Information).
                      </td>
                  </tr>
                  <tr>
                      <td>config.logger.date-format</td>
                      <td>Log entry timestamp format. The default format is yyyy-MM-dd'T'HH:mm:ss</td>
                  </tr>
                  <tr>
                      <td>config.logger.dir</td>
                      <td>The directory where log files will be stored. 
                          The default value is ./res/log
                      </td>
                  </tr>
                  <tr>
                      <td>config.logger.max-file-size</td>
                      <td>Log file maximum size (0 means no limit) in kbytes. The default value
                          is 0.
                      </td>
                  </tr>
                  <tr>
                      <td>config.logger.flush</td>
                      <td>Flag to indicate to flush log every time after writing. 
                          The default value is true.
                      </td>
                  </tr>
              </table>
          </section>
      </section>
      
      <section>
          <title>Console Logger</title>
          <p>This is another logger implementation. It prints all the log messages
             at console. 
          </p>
          <section>
              <title>Configuration Parameters</title>
              <table>
                  <tr>
                      <th>Configuration Parameter</th>
                      <th>Description</th>
                  </tr>
                  <tr>
                      <td>config.logger.class</td>
                      <td>org.apache.ftpserver.logger.CosoleLogger</td>
                  </tr>
                  <tr>
                      <td>config.logger.level</td>
                      <td>Log level
                          <ul>
                              <li>0 : Debug</li>
                              <li>1 : Information</li>
                              <li>2 : Warning</li>
                              <li>3 : Error</li>
                          </ul>
                          The default log level is 1 (Information).
                      </td>
                  </tr>
                  <tr>
                      <td>config.logger.date-format</td>
                      <td>Log entry timestamp format. The default format is yyyy-MM-dd'T'HH:mm:ss</td>
                  </tr>
              </table>
          </section>
      </section>
      
      <section>
          <title>Custom Logger</title>
          <p>You can write your own logger implementation by implementating
             <em>org.apache.ftplet.Logger</em> interface. You also need to specify
             the fully qualified name of your logger class in 
             <em>config.logger.class</em> configuration parameter. All the 
             configuration values under <em>config.logger</em> will be available
             to your logger implementation.
          </p>
      </section>
          
      <section>
          <title>Log UI</title>
          <p>All the log messages are displayed in FTP server UI.</p>
          <img src="images/ftp_log.jpg"/>
      </section> 
  </body>
</document>
